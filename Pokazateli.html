<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokazateli</title>
    <link rel="stylesheet" href="main.css">

    <script>
        function showExchange() {
            let cours=[ 11640, 11550, 11465, 11310, 11370, 11460, 11225, 11385, 11245, 
                        11385, 11195, 11345, 11415, 11345, 11230, 11190, 11145, 11095,11685, 10000, 10005 ];
            
            let date=[ '03.04.2023', '04.04.2023', '05.04.2023', '06.04.2023', '07.04.2023','10.04.2023',
             '11.04.2023', '11.04.2023', '12.04.2023', '13.04.2023', '14.04.2023', '17.04.2023', 
             '18.04.2023', '19.04.2023', '20.04.2023', '21.04.2023', '24.04.2023', '25.04.2023', 
             '26.04.2023','27.04.2023', '28.04.2023', ]
            
            let  courseTable = document.getElementById('curs');

            for(let i = 0; i < cours.length; i++) {
                let tr = document.createElement('tr');
                let datetd = document.createElement('td');
                let coursetd = document.createElement('td');
                let minustd = document.createElement('td');
                datetd.innerHTML = date[i];
                coursetd.innerHTML = cours[i];
                minustd.innerHTML = (cours[i] - cours[i-1]).toFixed(2);
                tr.appendChild(datetd);
                tr.appendChild(coursetd);
                if(minustd.innerHTML == 'NaN') {
                    minustd.innerHTML = '-';
                    tr.appendChild(minustd);
                }
                else {
                    tr.append(minustd);
                }
                courseTable.appendChild(tr);
            }
            
                let sum = 0;
                for ( let i = 0; i<cours.length; i++) {
                sum = sum + cours[i];
            }
            let average= Math.floor(sum / cours.length);
            document.getElementById('srednee').innerHTML= 'Среднеквадратическое отклонение цены: ' + average;

            let maxCourse=Math.max(...cours);
            let minCourse=Math.min(...cours);
            document.getElementById('max').innerHTML= 'Максимальное значение: ' + maxCourse;
            document.getElementById('min').innerHTML= 'Минимальное значение: ' + minCourse;
        }
    </script>
</head>

<menu>
    <h4>Меню</h4>
        <a href="company.html" target="_blank">О компании</a>
        <a href="Pokazateli.html" style="color: rgb(3, 55, 243);" target="_blank">Финансовые показатели</a>
        <a href="Contact.html" target="_blank">Контактные данные</a>
        <a href="Video.html" target="_blank">Видео</a>
</menu>

<body>
    
        <header>
            Основные финансовые показатели
        </header>
        <main>
            <div style="margin-top: 64px;">
                Выручка копании по МСФО в 2019 году составила 47 702 746 тыс. руб., чистая 
                прибыль составила − 3 194 648 руб. Несмотря на убыток, капитализация компании 
                на конец 2019 года превысила 12 млрд руб.
            </div>
            <table border="1" width="100%" >
                <tr>
                    <td>Число акций</td>
                    <td>Капитализация</td>
                </tr>
                <tr>
                    <td>3 000 000</td>
                    <td>28,5 млрд</td>
                </tr>
            </table>

        </main>
        <button onclick="showExchange()">Цена закрытия акций компании "ОМЗ" за апрель </button>
        <table border="1"  id="curs"></table>
        <p style= "color: #294f7c; font-size: 25px;" id="srednee"></p>
        <p style= "color: #294f7c; font-size: 25px;" id="max"></p>
        <p style= "color: #294f7c; font-size: 25px;" id="min"></p>


        
        <footer>
            Сайт сделала Пушкарева Дарья, ФБИ-12
        </footer>
</body>
</html>